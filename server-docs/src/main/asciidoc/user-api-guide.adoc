= OpenPrice Current User RESTful API Guide
Yuan Ji;
:doctype: book
:toc:
:sectanchors:
:sectlinks:
:toclevels: 4
:source-highlighter: highlightjs

[[overview]]
= Overview

This is the API documentation for current logged in user in OpenPrice System. It provides service 
to retrieve current user profile, manage profile, manage receipts, etc.


[[resources-user]]
== User

The User resource provides the entry point into the service.



[[resources-user-access]]
=== Accessing the `user` resource

A `GET` request is used to access the user

==== Response structure

include::{snippets}/user-example/response-fields.adoc[]

==== Example response

include::{snippets}/user-example/http-response.adoc[]



[[resources-user-links]]
==== Links

include::{snippets}/user-example/links.adoc[]



[[resources-user-profile]]
== User Profile

The Profile resource is used to retrieve and update current logged in user profile.

[[resources-user-profile-retrieve]]
=== Reading user profile

A `GET` request will retrieve current user profile.

==== Response structure

include::{snippets}/user-profile-example/response-fields.adoc[]

==== Example request

include::{snippets}/user-profile-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-profile-example/http-response.adoc[]



[[resources-user-profile-update]]
=== Update user profile

A `PUT` request is used to update user profile

==== Request structure

include::{snippets}/user-profile-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/user-profile-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-profile-update-example/http-response.adoc[]

[[resources-user-receipt]]
== User Receipt


[[resources-user-receipts-list]]
=== Listing user receipts

A `GET` request will list all of the current user's receipts.

==== Response structure

include::{snippets}/user-receipts-list-example/response-fields.adoc[]

==== Example request

include::{snippets}/user-receipts-list-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-receipts-list-example/http-response.adoc[]

[[resources-user-receipts-list-links]]
==== Links

include::{snippets}/user-receipts-list-example/links.adoc[]


[[resources-user-receipt-upload]]
=== Create a new receipt by uploading a receipt image

A `POST` request is used to upload a receipt image for new receipt

==== Request structure

include::{snippets}/user-receipt-upload-example/request-fields.adoc[]

==== Example request

include::{snippets}/user-receipt-upload-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-receipt-upload-example/http-response.adoc[]

[[resources-user-receipt-retrieve]]
=== Get user receipt with id

A `GET` request is used to retrieve user receipt

==== Response structure

include::{snippets}/user-receipt-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/user-receipt-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-receipt-retrieve-example/http-response.adoc[]

[[resources-user-receipt-links]]
==== Links

include::{snippets}/user-receipt-retrieve-example/links.adoc[]


[[resources-user-receipt-image]]
== User Receipt Image


[[resources-user-receipt-image-upload]]
=== Upload another image to receipt

A `POST` request is used to upload a receipt image for existing receipt

==== Request structure

include::{snippets}/user-receipt-image-upload-example/request-fields.adoc[]

==== Example request

include::{snippets}/user-receipt-image-upload-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-receipt-image-upload-example/http-response.adoc[]

[[resources-user-receipt-image-retrieve]]
=== Get receipt image 

A `GET` request is used to retrieve a receipt image data for existing receipt

==== Response structure

include::{snippets}/user-receipt-image-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/user-receipt-image-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/user-receipt-image-retrieve-example/http-response.adoc[]

[[resources-user-receipt-image-links]]
==== Links

include::{snippets}/user-receipt-image-retrieve-example/links.adoc[]

