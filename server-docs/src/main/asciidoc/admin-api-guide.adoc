= OpenPrice RESTful API Guide for Admin API
Yuan Ji;
:doctype: book
:toc:
:sectanchors:
:sectlinks:
:toclevels: 4
:source-highlighter: highlightjs

[[overview]]
= Overview

This is the RESTful API documentation for OpenPrice Admin API, used by admin-ui application.

[[resources-admin]]
== Admin

The Admin resource provides the entry point into the service
of current logged in admin.


[[resources-admin-access]]
=== Accessing the admin resource

A `GET` request is used to access the admin

==== Response structure

include::{snippets}/admin-example/response-fields.adoc[]

==== Example response

include::{snippets}/admin-example/http-response.adoc[]


[[resources-admin-links]]
==== Links

include::{snippets}/admin-example/links.adoc[]


[[resources-admin-users]]
== Admin Users Resource

Admin Users resource is used to list admin-managed Users
or add new user.

[[resources-admin-user-list]]
=== Listing all end users

A `GET` request will list all of the admin-managed users in the system.

==== Response structure

include::{snippets}/admin-user-list-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-list-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-list-example/http-response.adoc[]


[[resources-admin-user-list-links]]
==== Links

include::{snippets}/admin-user-list-example/links.adoc[]


[[resources-admin-user]]
== Admin User Resource

Admin User resource is used to retrieve, edit or delete one admin-managed user.

[[resources-admin-user-retrieve]]
=== Retrieve one end user

A `GET` request will retrieve admin-managed user data.

==== Response structure

include::{snippets}/admin-user-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-retrieve-example/http-response.adoc[]


[[resources-admin-user-retrieve-links]]
==== Links

include::{snippets}/admin-user-retrieve-example/links.adoc[]


[[resources-admin-user-lockState]]
== Admin User LockState Resource

Resource for admin-managed user lock state.

[[resources-admin-user-lockState-update]]
=== Update admin user lock state

A `PUT` request is used to update admin-managed user lock state,
either lock the user or unlock the user.

==== Request structure

include::{snippets}/admin-user-lockState-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/admin-user-lockState-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-lockState-update-example/http-response.adoc[]



[[resources-admin-user-profile]]
== Admin User Profile Resource

Admin User Profile resource is used to retrieve or edit admin-managed user profile.

[[resources-admin-user-profile-retrieve]]
=== Retrieve admin-managed user profile

A `GET` request will retrieve admin-managed user profile data.

==== Response structure

include::{snippets}/admin-user-profile-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-profile-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-profile-retrieve-example/http-response.adoc[]


[[resources-admin-user-profile-update]]
=== Update admin-managed user profile

A `PUT` request is used to update admin managed user profile.

==== Request structure

include::{snippets}/admin-user-profile-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/admin-user-profile-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-profile-update-example/http-response.adoc[]



[[resources-admin-user-receipts]]
== Admin User Receipts Resource

Admin User Receipts resource is used to list admin-managed user receipts.

[[resources-admin-user-receipt-list]]
=== Listing admin user receipts

A `GET` request will list all of the admin-manged user's receipts.

==== Response structure

include::{snippets}/admin-user-receipt-list-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-receipt-list-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-receipt-list-example/http-response.adoc[]


[[resources-user-receipt-list-links]]
==== Links

include::{snippets}/admin-user-receipt-list-example/links.adoc[]



[[resources-admin-user-receipt]]
== Admin User Receipt Resource

Resource for a single admin-managed user uploaded receipt, may contain one or more images.

[[resources-admin-user-receipt-retrieve]]
=== Get admin-managed user receipt

A `GET` request is used to retrieve user receipt

==== Response structure

include::{snippets}/admin-user-receipt-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-receipt-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-receipt-retrieve-example/http-response.adoc[]

[[resources-admin-user-receipt-links]]
==== Links

include::{snippets}/admin-user-receipt-retrieve-example/links.adoc[]



[[resources-admin-user-receipt-delete]]
=== Delete admin-managed user receipt

A `DELETE` request is used to delete admin-managed user receipt,
it will delete all images with this receipt.

==== Example request

include::{snippets}/admin-user-receipt-delete-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-receipt-delete-example/http-response.adoc[]



[[resources-admin-user-receipt-images]]
== Admin User Receipt Images

Admin User Receipt Images resource is used to manage list of images belonging to one receipt.


[[resources-admin-user-receipt-image-list]]
=== List Admin User Receipt Images

A `GET` request will list all of the images from a specific receipt.

==== Response structure

include::{snippets}/admin-user-receipt-image-list-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-receipt-image-list-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-receipt-image-list-example/http-response.adoc[]

[[resources-user-receipt-image-list-links]]
==== Links

include::{snippets}/admin-user-receipt-image-list-example/links.adoc[]



[[resources-admin-user-receipt-image]]
== Admin User Receipt Image

Admin User Receipt Image resource is to manage one image of specific receipt.

[[resources-admin-user-receipt-image-retrieve]]
=== Get admin-managed user receipt image

A `GET` request is used to retrieve a receipt image data for existing receipt

==== Response structure

include::{snippets}/admin-user-receipt-image-retrieve-example/response-fields.adoc[]

==== Example request

include::{snippets}/admin-user-receipt-image-retrieve-example/curl-request.adoc[]

==== Example response

include::{snippets}/admin-user-receipt-image-retrieve-example/http-response.adoc[]

[[resources-user-receipt-image-links]]
==== Links

include::{snippets}/admin-user-receipt-image-retrieve-example/links.adoc[]
